
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>3.9. 레버리지와 아웃라이어 &#8212; 데이터 사이언스 스쿨 - 데이터 분석 편</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "datascienceschool/book_data_analysis");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.10. 스케일링과 다중공선성" href="03_10.html" />
    <link rel="prev" title="3.8. 예측" href="03_08.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">데이터 사이언스 스쿨 - 데이터 분석 편</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    데이터 사이언스 스쿨 - 데이터 분석 편
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ch01/01_00.html">
   1. 데이터 분석의 소개
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch01/01_01.html">
     1.1. 이 책에서 다루는 데이터 분석이란?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch01/01_02.html">
     1.2. 데이터 분석을 위한 도구의 소개
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch01/01_03.html">
     1.3. 예제 데이터
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ch02/02_00.html">
   2. 탐색적 데이터 분석 - 개별 데이터의 특징을 분석한다.
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_01.html">
     2.1. 확률적 데이터
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_02.html">
     2.2. 시각적 확률분포추정
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_03.html">
     2.3. 확률분포모형을 사용한 확률분포추정
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_04.html">
     2.4. 베르누이분포와 이항분포
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_05.html">
     2.5. 카테고리분포와 다항분포
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_06.html">
     2.6. 정규분포, 로그정규분포, 스튜던트t분포
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_07.html">
     2.7. 최대가능도추정
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ch02/02_08.html">
     2.8. 탐색적 데이터 분석
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="03_00.html">
   3. 회귀분석 - 수치형 데이터를 예측한다.
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="03_01.html">
     3.1. 상관관계
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_02.html">
     3.2. 회귀분석의 소개
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_03.html">
     3.3. 선형회귀분석을 위한 준비
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_04.html">
     3.4. 최소자승법
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_05.html">
     3.5. 가중치 검정
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_06.html">
     3.6. 모형성능
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_07.html">
     3.7. 모형 선택
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_08.html">
     3.8. 예측
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     3.9. 레버리지와 아웃라이어
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_10.html">
     3.10. 스케일링과 다중공선성
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_11.html">
     3.11. 비선형회귀분석
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_12.html">
     3.12. 과최적화와 정규화
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch04/04_00.html">
   4. 분류 - 범주형 데이터를 예측한다.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch05/05_00.html">
   5. 딥러닝을 사용한 회귀분석과 분류
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch06/06_00.html">
   6. 시계열분석
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/datascienceschool/book_data_analysis/main?urlpath=tree/./ch03/03_09.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/datascienceschool/book_data_analysis"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/ch03/03_09.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   3.9.1. 레버리지
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   3.9.2. 잔차
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   3.9.3. 아웃라이어
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   3.9.4. 영향점 검출
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>레버리지와 아웃라이어</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   3.9.1. 레버리지
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   3.9.2. 잔차
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   3.9.3. 아웃라이어
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   3.9.4. 영향점 검출
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1><span class="section-number">3.9. </span>레버리지와 아웃라이어<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h1>
<p>지금까지는 회귀분석의 성능을 향상시키기 위해 독립변수를 선택하는 방법을 공부했다. 이 절에서는 개별적인 데이터 레코드를 분석하는 방법을 학습힌다. 즉 지금까지 독립변수행렬 <span class="math notranslate nohighlight">\(X\)</span>의 열을 선택하거나 제거하는 방법을 공부했다면 이제는 독립변수행렬 <span class="math notranslate nohighlight">\(X\)</span>의 행을 조사하고 선택하는 방법을 알아본다.</p>
<p>예제로는 보스턴 집값을 lstat 독립변수를 사용하여 선형회귀분석한 결과를 사용한다. 다만 여기에서는 전체 데이터를 다 사용하는 것이 아니라 일부(20개) 데이터 레코드만을 사용하여 회귀분석을 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="n">boston</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">get_rdataset</span><span class="p">(</span><span class="s2">&quot;Boston&quot;</span><span class="p">,</span> <span class="s2">&quot;MASS&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="n">boston20</span> <span class="o">=</span> <span class="n">boston</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">345</span><span class="p">:</span><span class="mi">365</span><span class="p">]</span>  <span class="c1"># 일부 데이터만 사용</span>

<span class="n">model20</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="o">.</span><span class="n">from_formula</span><span class="p">(</span><span class="s2">&quot;medv ~ scale(rm)&quot;</span><span class="p">,</span> <span class="n">boston20</span><span class="p">)</span>
<span class="n">result20</span> <span class="o">=</span> <span class="n">model20</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result20</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   medv   R-squared:                       0.192
Model:                            OLS   Adj. R-squared:                  0.147
Method:                 Least Squares   F-statistic:                     4.269
Date:                Mon, 01 Aug 2022   Prob (F-statistic):             0.0535
Time:                        20:45:32   Log-Likelihood:                -50.606
No. Observations:                  20   AIC:                             105.2
Df Residuals:                      18   BIC:                             107.2
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept     21.6300      0.716     30.202      0.000      20.125      23.135
scale(rm)      1.4797      0.716      2.066      0.054      -0.025       2.984
==============================================================================
Omnibus:                        1.091   Durbin-Watson:                   1.752
Prob(Omnibus):                  0.579   Jarque-Bera (JB):                0.545
Skew:                           0.403   Prob(JB):                        0.761
Kurtosis:                       2.947   Cond. No.                         1.00
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<p>seaborn 패키지의 <code class="docutils literal notranslate"><span class="pre">regplot</span></code> 함수로 선형회귀분석 결과를 그림으로 그리면 다음 그림과 같다. 이 그림에서는 0번 데이터 레코드부터 19번 데이터 레코드까지 20개의 데이터 레코드 각각에 대해 인덱스 번호를 붙어서 표시하였다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;medv&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">boston20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">boston20</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">rm</span> <span class="o">+</span> <span class="mf">0.03</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">medv</span> <span class="o">+</span> <span class="mf">0.3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;아웃라이어 제거를 하기 전 회귀분석 결과&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_5_0.png" src="../_images/03_09_5_0.png" />
</div>
</div>
<section id="id2">
<h2><span class="section-number">3.9.1. </span>레버리지<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<p>선형회귀분석을 실시하고 나면 찾아낸 가중치에 따른 예측값 <span class="math notranslate nohighlight">\(\hat{y}\)</span>을 다음 공식으로 계산할 수 있다.</p>
<div class="math notranslate nohighlight">
\[
\hat{y} = X \hat{w} = X(X^TX)^{-1}X^T y
\]</div>
<p>위 식에서 <span class="math notranslate nohighlight">\(y\)</span> 앞에 있는 <span class="math notranslate nohighlight">\(X(X^TX)^{-1}X^T\)</span> 행렬을 <b>영향도행렬(influence matrix)</b> 혹은 <b>hat행렬(hat-matrix)</b>이라고 부르고 기호로 <span class="math notranslate nohighlight">\(H\)</span>라고 쓴다.</p>
<div class="math notranslate nohighlight">
\[
H = X(X^TX)^{-1}X^T
\]</div>
<p>데이터의 개수가 <span class="math notranslate nohighlight">\(N\)</span>개일 때 영향도행렬은 <span class="math notranslate nohighlight">\(N\times N\)</span> 크기의 행렬이 된다.</p>
<p>영향도행렬에서 가장 중요한 부분은 대각성분이다. 영향도행렬 <span class="math notranslate nohighlight">\(H\)</span>의 <span class="math notranslate nohighlight">\(i\)</span>번째 대각성분 <span class="math notranslate nohighlight">\(H_{ii}\)</span>을 <b>레버리지(leverage)</b> <span class="math notranslate nohighlight">\(h_i\)</span>라고 부른다.</p>
<div class="math notranslate nohighlight">
\[
h_i = H_{ii}
\]</div>
<p>영향도행렬의 크기가 <span class="math notranslate nohighlight">\(N\times N\)</span>이므로 레버리지의 개수는 데이터 개수와 같다. 즉, <span class="math notranslate nohighlight">\(i\)</span>번째 데이터에 대해 <span class="math notranslate nohighlight">\(i\)</span>번째 레버리지가 대응되는 구조로 각각의 데이터는 하나의 레버리지 값을 가진다.</p>
<div class="math notranslate nohighlight">
\[
(x_i, y_i) \;\; \leftrightarrow \;\; h_i
\]</div>
<p>레버리지는 다음과 같은 수학적 성질을 가진다.</p>
<div class="admonition- admonition">
<p class="admonition-title">레버리지의 성질</p>
<ol>
<li><p>0 ~ 1 사이의 값을 가진다.</p>
<div class="math notranslate nohighlight">
\[ 0 \leq h_i \leq 1 \]</div>
</li>
<li><p>독립변수의 개수가 <span class="math notranslate nohighlight">\(K\)</span>일 때  레버리지의 합은 <span class="math notranslate nohighlight">\(K+1\)</span>이 된다.</p>
<div class="math notranslate nohighlight">
\[ \sum_{i=1}^N h_i = K + 1 \]</div>
</li>
</ol>
</div>
<p>statsmodels 패키지의 선형회귀분석 결과 객체는 레버리지를 포함한 영향도 객체라는 객체를 출력하는 <code class="docutils literal notranslate"><span class="pre">get_influence</span></code> 메서드를 제공한다.</p>
<p>영향도 객체는 <code class="docutils literal notranslate"><span class="pre">OLSInfluence</span></code> 클래스 객체로 <code class="docutils literal notranslate"><span class="pre">hat_matrix_diag</span></code> 속성에 레버리지 값을 저장하고 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">influence20</span> <span class="o">=</span> <span class="n">result20</span><span class="o">.</span><span class="n">get_influence</span><span class="p">()</span>
<span class="n">leverage20</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;leverage&quot;</span><span class="p">:</span> <span class="n">influence20</span><span class="o">.</span><span class="n">hat_matrix_diag</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">boston20</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">leverage20</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>leverage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>345</th>
      <td>0.061321</td>
    </tr>
    <tr>
      <th>346</th>
      <td>0.070943</td>
    </tr>
    <tr>
      <th>347</th>
      <td>0.053532</td>
    </tr>
    <tr>
      <th>348</th>
      <td>0.059749</td>
    </tr>
    <tr>
      <th>349</th>
      <td>0.089664</td>
    </tr>
    <tr>
      <th>350</th>
      <td>0.052585</td>
    </tr>
    <tr>
      <th>351</th>
      <td>0.056438</td>
    </tr>
    <tr>
      <th>352</th>
      <td>0.072303</td>
    </tr>
    <tr>
      <th>353</th>
      <td>0.066759</td>
    </tr>
    <tr>
      <th>354</th>
      <td>0.099438</td>
    </tr>
    <tr>
      <th>355</th>
      <td>0.067468</td>
    </tr>
    <tr>
      <th>356</th>
      <td>0.051681</td>
    </tr>
    <tr>
      <th>357</th>
      <td>0.050379</td>
    </tr>
    <tr>
      <th>358</th>
      <td>0.054771</td>
    </tr>
    <tr>
      <th>359</th>
      <td>0.055480</td>
    </tr>
    <tr>
      <th>360</th>
      <td>0.050418</td>
    </tr>
    <tr>
      <th>361</th>
      <td>0.050790</td>
    </tr>
    <tr>
      <th>362</th>
      <td>0.153540</td>
    </tr>
    <tr>
      <th>363</th>
      <td>0.081011</td>
    </tr>
    <tr>
      <th>364</th>
      <td>0.701731</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>모두 0 부터 1 사이의 값이라는 것을 알 수 있다. 전체 레버리지의 합을 구하면 2가 되는 것도 확인할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">leverage20</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>leverage    2.0
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>위에서 예제로 사용한 선형회귀분석에서 개별 데이터의 레버리지 크기를 점의 크기로 표시하면 다음과 같아진다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;medv&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">boston20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">rid</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">boston20</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">rm</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">medv</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;g&quot;</span><span class="p">,</span>
                <span class="n">s</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">leverage20</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">rid</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5000</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">rid</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">rm</span> <span class="o">+</span> <span class="mf">0.03</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">medv</span> <span class="o">+</span> <span class="mf">0.3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;레버리지 표시&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_13_0.png" src="../_images/03_09_13_0.png" />
</div>
</div>
<p>레버리지를 영향도라고 부르는 이유는 레버리지 값이 1에 가까운 데이터 즉, <b>레버리지가 큰 데이터는 레버리지가 작은 데이터보다 회귀분석 결과에 영향을 크게 미치기 때문</b>이다.</p>
<p>우리가 사용하는 예제에서 레버리지가 가장 작은 데이터는 357번 데이터이고 레버리지가 가장 큰 데이터는 364번 데이터다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">idx_all</span> <span class="o">=</span> <span class="n">leverage20</span><span class="o">.</span><span class="n">index</span>
<span class="n">idx_min</span> <span class="o">=</span> <span class="n">idx_all</span><span class="p">[</span><span class="n">leverage20</span><span class="o">.</span><span class="n">leverage</span><span class="o">.</span><span class="n">argmin</span><span class="p">()]</span>
<span class="n">idx_max</span> <span class="o">=</span> <span class="n">idx_all</span><span class="p">[</span><span class="n">leverage20</span><span class="o">.</span><span class="n">leverage</span><span class="o">.</span><span class="n">argmax</span><span class="p">()]</span>
<span class="n">idx_min</span><span class="p">,</span> <span class="n">idx_max</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(357, 364)
</pre></div>
</div>
</div>
</div>
<p>이 두가지 데이터를 각각 제외하고 다시 선형회귀분석을 해보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ids_min</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">boston20</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="n">ids_max</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">boston20</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="n">ids_min</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">idx_min</span><span class="p">)</span>
<span class="n">ids_max</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">idx_max</span><span class="p">)</span>
<span class="n">boston20min</span> <span class="o">=</span> <span class="n">boston20</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ids_min</span><span class="p">]</span>
<span class="n">boston20max</span> <span class="o">=</span> <span class="n">boston20</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ids_max</span><span class="p">]</span>

<span class="n">result20min</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="o">.</span><span class="n">from_formula</span><span class="p">(</span><span class="s2">&quot;medv ~ scale(rm)&quot;</span><span class="p">,</span> <span class="n">boston20min</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">result20max</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="o">.</span><span class="n">from_formula</span><span class="p">(</span><span class="s2">&quot;medv ~ scale(rm)&quot;</span><span class="p">,</span> <span class="n">boston20max</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>선형회귀분석 결과인 가중치를 비교하면 레버리지가 작은 6번 데이터를 제외하였을 경우에는 큰 차이가 없지만 레버리지가 큰 8번 데이터를 제외한 경우에는 가중치가 많이 달라지는 것을 알 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">result20</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;전체 데이터 사용&quot;</span><span class="p">),</span>
        <span class="n">result20min</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;가장 레버러지가 작은 데이터 제외&quot;</span><span class="p">),</span>
        <span class="n">result20max</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;가장 레버러지가 큰 데이터 제외&quot;</span><span class="p">),</span>
    <span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>전체 데이터 사용</th>
      <th>가장 레버러지가 작은 데이터 제외</th>
      <th>가장 레버러지가 큰 데이터 제외</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Intercept</th>
      <td>21.630000</td>
      <td>21.626316</td>
      <td>21.615789</td>
    </tr>
    <tr>
      <th>scale(rm)</th>
      <td>1.479701</td>
      <td>1.518115</td>
      <td>2.615438</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>예측 직선을 그림으로 표시하면 더 알기쉽다. 레버리지가 큰 데이터를 제외하였을 때 기울기가 크게 달라지는 것을 볼 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;medv&quot;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">boston20</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;전체 데이터 사용&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;medv&quot;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">boston20min</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;가장 레버러지가 작은 데이터 제외&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">38</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;medv&quot;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">boston20</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;전체 데이터 사용&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;medv&quot;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">boston20max</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;가장 레버러지가 큰 데이터 제외&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">38</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_21_0.png" src="../_images/03_09_21_0.png" />
</div>
</div>
</section>
<section id="id3">
<h2><span class="section-number">3.9.2. </span>잔차<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h2>
<p>앞에서 가중치 검정을 공부할 때 몇가지 확률론적 가정을 사용하였다. (<a class="reference internal" href="03_05.html#subsection-linear-regression-probabilistic-assumptions"><span class="std std-ref">선형회귀분석의 확률론적 가정</span></a> 참조)</p>
<p>그 중 가장 핵심적은 내용은 교란항의 정규성 가정이다.</p>
<blockquote>
<div><p>교란항 <span class="math notranslate nohighlight">\(\varepsilon\)</span>은 기댓값이 0이고 분산이 <span class="math notranslate nohighlight">\(\sigma^2\)</span>인 정규분포를 따른다. 이 때 교란항의 분산 <span class="math notranslate nohighlight">\(\sigma^2\)</span>은 어떤 경우에도 변하지 않는다.</p>
</div></blockquote>
<p>이를 수식으로 표현하면 다음과 같다.</p>
<div class="math notranslate nohighlight">
\[ \varepsilon \sim \mathcal{N}(0, \sigma^2) \]</div>
<p>교란항의 정규성 가정을 포함한 확률론적 가정을 사용하면 잔차에 대한 다음 두가지 사실을 수학적으로 증명할 수 있다.</p>
<div class="admonition- admonition">
<p class="admonition-title">전체 잔차의 정규성</p>
<p>선형회귀분석으로 나온 <span class="math notranslate nohighlight">\(N\)</span>개의 전체 잔차 <span class="math notranslate nohighlight">\(e\)</span>는 기댓값이 0인 정규분포를 따른다.</p>
<div class="math notranslate nohighlight">
\[
e \sim \mathcal{N}\left(0, \sigma_e^2 \right)
\]</div>
<p>이 사실을 이용하면 잔차의 크기로부터 교란항의 분산 <span class="math notranslate nohighlight">\(\sigma^2\)</span>을 다음과 같이 추정할 수 있다.</p>
<div class="math notranslate nohighlight">
\[
\hat{\sigma}^2 = \dfrac{e^Te}{N-K-1} = \dfrac{RSS}{N-K-1}
\]</div>
</div>
<div class="admonition- admonition">
<p class="admonition-title">개별 잔차의 정규성</p>
<p><span class="math notranslate nohighlight">\(i\)</span>번째 개별 데이터에 대한 잔차 <span class="math notranslate nohighlight">\(e_i\)</span>도 기댓값이 0인 정규분포를 따른다.</p>
<div class="math notranslate nohighlight">
\[
e_i \sim \mathcal{N}\left(0, \sigma_{e,i}^2 \right)
\]</div>
<p>하지만 <span class="math notranslate nohighlight">\(i\)</span>번째 개별 데이터의 잔차 <span class="math notranslate nohighlight">\(e_i\)</span>의 분산 <span class="math notranslate nohighlight">\(\sigma_{e,i}^2\)</span>은 <span class="math notranslate nohighlight">\(i\)</span>번째 데이터의 레버리지 <span class="math notranslate nohighlight">\(h_i\)</span>의 영향을 받아서 데이터마다 달라진다.</p>
<div class="math notranslate nohighlight">
\[
\sigma_{e,i}^2 = \hat{\sigma}^2 (1 - h_i)
\]</div>
</div>
<p>위에서 서술한 두번째 사실로 인해 개별 잔차의 크기를 비교할 때 다음과 같이 개별 데이터의 표준편차로 나누어 표준화를 해야지만 올바른 비교가 가능하다.</p>
<div class="math notranslate nohighlight">
\[ 
r_i = \dfrac{e_i}{\hat{\sigma}\sqrt{1 - h_i}}
\]</div>
<p>이렇게 개별 데이터의 표준편차로 나누어준 잔차 <span class="math notranslate nohighlight">\(r_i\)</span>를 <b>스튜던트화 잔차(studentized residual)</b>라고 한다.</p>
<p>영향도 객체는 <code class="docutils literal notranslate"><span class="pre">resid_studentized</span></code> 또는 <code class="docutils literal notranslate"><span class="pre">resid_studentized_internal</span></code> 속성에 스튜던트화 잔차를 가지고 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resid_stu20</span> <span class="o">=</span> <span class="n">influence20</span><span class="o">.</span><span class="n">resid_studentized</span>
<span class="n">resid_stu20</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1.10401894, -1.12476119,  0.34555775,  0.71372182,  1.19508941,
        0.2994623 ,  0.62324626, -0.66184396,  2.46057847, -0.64440242,
       -0.05024419, -1.14097612, -0.01882388,  0.4904032 ,  0.46899524,
        1.0363967 , -0.49478783,  0.44093668, -1.19354705, -2.89971256])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">idx_all</span><span class="p">,</span> <span class="n">resid_stu20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">idx_all</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;스튜던트화 잔차&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_28_0.png" src="../_images/03_09_28_0.png" />
</div>
</div>
<p>이와 비슷한 것으로 <b>외부 스튜던트화 잔차(externally studentized residual)</b> 혹은 SDR(studentized deleted residual)라 부르는 것이 있다. 외부 스튜던트화 잔차는 <span class="math notranslate nohighlight">\(i\)</span>번째 데이터 레코드의 외부 스튜던트화 잔차는 해당 데이터 레코드(<span class="math notranslate nohighlight">\(i\)</span>번째 데이터 레코드)를 제외한 나머지 데이터만 가지고 다시 선형회귀분석을 하여 계산한 잔차를 해당 잔차의 분산으로 나눈 값이다. 이러한 계산 방식을 <b>LOO(Leave-One-Out) 방식</b>이라고 한다. <span class="math notranslate nohighlight">\(i\)</span>번째 데이터 레코드의 외부 스튜던트화 잔차 <span class="math notranslate nohighlight">\(t_i\)</span>를 구하는 식은 다음과 같다.</p>
<div class="math notranslate nohighlight">
\[
t_i = \dfrac{y_i - \hat{y}_{(i)}}{\hat{\sigma}_{(i)}}
\]</div>
<p>statsmodels 패키지에서 외부 스튜던트화 잔차를 계산할 때 LOO를 위해 실제로 데이터 개수만큼 선형회귀를 반복하지는 않고 수학적으로 유도된 수식을 이용하여 외부 스튜던트화 잔차를 계산한다. 외부 스튜던트화 잔차는 곧 설명할 아웃라이어 검출에 사용된다. 영향도 객체는 <code class="docutils literal notranslate"><span class="pre">resid_studentized_external</span></code> 속성에 외부 스튜던트화 잔차를 가지고 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resid_stu_ext20</span> <span class="o">=</span> <span class="n">influence20</span><span class="o">.</span><span class="n">resid_studentized_external</span>
<span class="n">resid_stu_ext20</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1.11119486, -1.13363453,  0.33694124,  0.70364089,  1.21043235,
        0.29175272,  0.6123295 , -0.65116874,  2.93534086, -0.63359769,
       -0.048832  , -1.15124175, -0.0182937 ,  0.47980231,  0.45859201,
        1.03866341, -0.48415104,  0.43084662, -1.20873584, -3.8604005 ])
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h2><span class="section-number">3.9.3. </span>아웃라이어<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h2>
<p><b>아웃라이어(outlier)</b>는 회귀분석모형으로 예측한 값과 원 데이터 간의 오차 즉, 잔차가 큰 데이터를 말한다. 보통 데이터의 측정/입력 단계 혹은 처리/관리 단계에서 여러가지 실수로 인해 아웃라이어가 발생하는 경우가 많다. 예를 들어 수동으로 데이터를 입력하는 경우에 오타가 발생하던가 입력 데이터의 순서를 바꾸어 넣어서 이런 잘못된 데이터가 발생하는 경우가 흔하다. 따라서  아웃라이어를 검출하여 해당 데이터가 실수로 인해 잘못된 데이터인지 아닌지를 검토해야 한다.</p>
<p>statsmodels 패키지로 선형회귀분석을 실시하여 얻은 분석결과 객체는 아웃라이어를 검출하기 위한 <code class="docutils literal notranslate"><span class="pre">outlier_test</span></code> 메서드를 제공한다. 이 메서드는 아웃라이어 검정(outlier test)을 하는 메서드로 외부 스튜던트화 잔차의 확률분포를 이용하여 주어진 유의수준(지정하지 않은 경우 디폴트 5%) 미만인 데이터를 찾아낸다. 이 때 일반 유의확률이 아닌 <b>본페로니 수정(Bonferroni correction)</b>을 거친 유의확률을 사용해야 한다.</p>
<p><code class="docutils literal notranslate"><span class="pre">outlier_test</span></code> 메서드를 호출하면 다음과 같은 데이터프레임을 출력한다. 결과 데이터프레임에서 <code class="docutils literal notranslate"><span class="pre">bonf(p)</span></code> 열이 본페로니 수정 유의확률이다. 아웃라이어 검정은 “아웃라이어가 아니다”라는 귀무가설을 사용하므로 유의확률이 작은 데이터가 아웃라이어가 된다. 364번 데이터의 유의확률이 5% 미만이므로 이 데이터가 아웃라이어가 된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result20</span><span class="o">.</span><span class="n">outlier_test</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>student_resid</th>
      <th>unadj_p</th>
      <th>bonf(p)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>345</th>
      <td>-1.111195</td>
      <td>0.281954</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>346</th>
      <td>-1.133635</td>
      <td>0.272682</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>347</th>
      <td>0.336941</td>
      <td>0.740285</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>348</th>
      <td>0.703641</td>
      <td>0.491182</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>349</th>
      <td>1.210432</td>
      <td>0.242674</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>350</th>
      <td>0.291753</td>
      <td>0.774006</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>351</th>
      <td>0.612329</td>
      <td>0.548423</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>352</th>
      <td>-0.651169</td>
      <td>0.523643</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>353</th>
      <td>2.935341</td>
      <td>0.009243</td>
      <td>0.184858</td>
    </tr>
    <tr>
      <th>354</th>
      <td>-0.633598</td>
      <td>0.534776</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>355</th>
      <td>-0.048832</td>
      <td>0.961622</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>356</th>
      <td>-1.151242</td>
      <td>0.265568</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>357</th>
      <td>-0.018294</td>
      <td>0.985618</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>358</th>
      <td>0.479802</td>
      <td>0.637483</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>359</th>
      <td>0.458592</td>
      <td>0.652336</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>360</th>
      <td>1.038663</td>
      <td>0.313510</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>361</th>
      <td>-0.484151</td>
      <td>0.634457</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>362</th>
      <td>0.430847</td>
      <td>0.671993</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>363</th>
      <td>-1.208736</td>
      <td>0.243309</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>364</th>
      <td>-3.860400</td>
      <td>0.001255</td>
      <td>0.025101</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>아웃라이어를 제외한 회귀분석 결과는 다음과같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;medv&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">boston20max</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">boston20max</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">rm</span> <span class="o">+</span> <span class="mf">0.03</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">medv</span> <span class="o">+</span> <span class="mf">0.3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;아웃라이어 제거한 후 회귀분석 결과&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_35_0.png" src="../_images/03_09_35_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">result20max</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                   medv   R-squared:                       0.569
Model:                            OLS   Adj. R-squared:                  0.544
Method:                 Least Squares   F-statistic:                     22.46
Date:                Mon, 01 Aug 2022   Prob (F-statistic):           0.000190
Time:                        20:45:35   Log-Likelihood:                -42.583
No. Observations:                  19   AIC:                             89.17
Df Residuals:                      17   BIC:                             91.06
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
Intercept     21.6158      0.552     39.164      0.000      20.451      22.780
scale(rm)      2.6154      0.552      4.739      0.000       1.451       3.780
==============================================================================
Omnibus:                        2.400   Durbin-Watson:                   2.149
Prob(Omnibus):                  0.301   Jarque-Bera (JB):                1.344
Skew:                           0.651   Prob(JB):                        0.511
Kurtosis:                       3.066   Cond. No.                         1.00
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
</pre></div>
</div>
</div>
</div>
<p>이 때 가중치의 유의성이나 결정계수로 대표되는 성능이 크게 증가한 것을 알 수 있다.</p>
</section>
<section id="id5">
<h2><span class="section-number">3.9.4. </span>영향점 검출<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h2>
<p>그런데 아웃라이어 중에서도 레버리지로 대표되는 영향력이 작은 데이터는 사실 제외하든 제외하지 않든 회귀분석 결과에 큰 영향이 없기 때문에 데이터의 개수가 많을 경우 아웃라이어 중에서도 영향력이 큰 데이터만 고려할 수도 있다. 이러한 데이터를 <b>영향점(influential point)</b>이라고 한다. 영향점을 찾을 때는 스튜던트화 잔차 <span class="math notranslate nohighlight">\(r_i\)</span>와 레버리지 <span class="math notranslate nohighlight">\(h_i\)</span>를 동시에 고려하는 <b>쿡 거리(cook’s distance)</b>라는 값을 기준으로 사용한다.</p>
<div class="math notranslate nohighlight">
\[
\text{쿡 거리(cook's distance)} = \dfrac{1}{K + 1}\cdot r_i^2\cdot \dfrac{h_i}{1-h_i}
\]</div>
<p>영향도 객체는 쿡 거리를 <code class="docutils literal notranslate"><span class="pre">cooks_distance</span></code> 속성에 저장한다. 이 때 쿡 거리와 함께 아웃라이어 검정(outlier test)을 위한 유의확률도 같이 저장한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cook</span><span class="p">,</span> <span class="n">pvalues</span> <span class="o">=</span> <span class="n">influence20</span><span class="o">.</span><span class="n">cooks_distance</span>
<span class="n">cook</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([3.98120745e-02, 4.83015121e-02, 3.37687385e-03, 1.61850341e-02,
       7.03371904e-02, 2.48869514e-03, 1.16169258e-02, 1.70700103e-02,
       2.16551653e-01, 2.29257190e-02, 9.13217935e-05, 3.54727914e-02,
       9.39903866e-06, 6.96771288e-03, 6.46000187e-03, 2.85151803e-02,
       6.54977100e-03, 1.76334738e-02, 6.27890695e-02, 9.89104790e+00])
</pre></div>
</div>
</div>
</div>
<p>쿡 거리를 플롯으로 표시하면 364번 데이터의 잔차가 다른 데이터에 비해 훨씬 크다는 것을 알 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">idx_all</span><span class="p">,</span> <span class="n">cook</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">idx_all</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;쿡 거리&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_42_0.png" src="../_images/03_09_42_0.png" />
</div>
</div>
<p>statsmodels 패키지는 각 데이터의 외부 스튜던트 잔차와 레버리지, 쿡 거리를 동시에 시각화하는 <code class="docutils literal notranslate"><span class="pre">influence_plot</span></code> 함수도 제공한다. 이 함수는 각 데이터 레코드의 외부 스튜던트 잔차를 y축에, 레버리지를 x축에 표시한다. 쿡 거리는 데이터 포인트의 원형 크기로 표시한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">sm</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">influence_plot</span><span class="p">(</span><span class="n">result20</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_44_0.png" src="../_images/03_09_44_0.png" />
</div>
</div>
<p>외부 스튜던트화 잔차를 사용한 <b>DFFITS(DiFference in FITS)</b>라는 값을 사용할 수도 있다. DFFITS는 다음과 같이 정의한다.</p>
<div class="math notranslate nohighlight">
\[
\text{DFFITS} = t_i \sqrt{\dfrac{h_i}{1 - h_i}}
\]</div>
<p>dffits 값은 영향도 객체의 <code class="docutils literal notranslate"><span class="pre">dffits</span></code> 속성에 저장되어 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dffits</span><span class="p">,</span> <span class="n">pvalues</span> <span class="o">=</span> <span class="n">influence20</span><span class="o">.</span><span class="n">dffits</span>
<span class="n">dffits</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-2.84011617e-01, -3.13262278e-01,  8.01319952e-02,  1.77375609e-01,
        3.79881052e-01,  6.87343148e-02,  1.49756645e-01, -1.81789932e-01,
        7.85085705e-01, -2.10539165e-01, -1.31347218e-02, -2.68752589e-01,
       -4.21356016e-03,  1.15496589e-01,  1.11144857e-01,  2.39332604e-01,
       -1.11992752e-01,  1.83497604e-01, -3.58879687e-01, -5.92125226e+00])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">idx_all</span><span class="p">,</span> <span class="n">dffits</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">idx_all</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;dffits&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_09_47_0.png" src="../_images/03_09_47_0.png" />
</div>
</div>
<p>우리가 사용한 예제에서는 364번 데이터가 아웃라이어면서 동시에 영향점임을 알 수 있다.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./ch03"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="03_08.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">3.8. </span>예측</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="03_10.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3.10. </span>스케일링과 다중공선성</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By 김도형<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>